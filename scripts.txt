create table Usuario(
	id int identity(1,1) primary key,
	login varchar(255) unique not null,
	senha varchar(255) not null
)

create table Audio(
	id int identity(1,1) primary key,
	titulo varchar(255) not null,
	arquivo varbinary(max) filestream,
	rowGuid UNIQUEIDENTIFIER ROWGUIDCOL NOT NULL
	UNIQUE DEFAULT NEWID(),
	linkYouTube varchar(255),
	idUsuario int not null,
	constraint pk_Usuario Foreign key (idUsuario) REFERENCES Usuario(id)
)

create table Acao(
	codAcao int primary key,
	descricao varchar(255)
)

create table AcaoAudio(
	id int identity(1,1) primary key,
	codAcao int,
	idAudio int,
	idUsuario int,
	constraint pk_Acao foreign key (codAcao) references Acao(codAcao),
	constraint pk_Audio foreign key (idAudio) references Audio(id),
	constraint pk_UsuarioAcaoAudio foreign key (idUsuario) references Usuario(id)
)

INSERT INTO Acao(codAcao, descricao) VALUES(1, 'Reproduzir'), (2, 'Parar')
